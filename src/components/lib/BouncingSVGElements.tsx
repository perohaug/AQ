import React, { useEffect } from 'react';
import { PM25, PM10, RightLane, LeftLane, GasParticle } from './elements/constants';

// Make an interface that takes in two numbers, both should represent the amount props in the PM25 and PM10 components.

interface BouncingSVGElementsProps {
  pm25: number;
  pm10: number;
  gas: number;
  height: number;
  showLungs: Boolean;
}

const BouncingSVGElements: React.FC<BouncingSVGElementsProps> = ({ pm10, pm25, gas, height, showLungs }) => {
  {
    console.log('gas', gas);
    const generateRandomDelay = () => {
      return Math.floor(Math.random() * (20 - 5 + 1) + 5); // Random number between 5 and 20
    };

    const generatePM25Elements = () => {
      const pm25Elements = [];
      for (let i = 0; i < pm25 * 10; i++) {
        const delay = generateRandomDelay();
        pm25Elements.push(<PM25 key={`pm25-${i}`} style={{ animationDuration: `${delay}s` }} />);
      }
      return pm25Elements;
    };

    const generatePM10Elements = () => {
      const pm10Elements = [];
      for (let i = 0; i < pm10 * 10; i++) {
        const delay = generateRandomDelay();
        pm10Elements.push(<PM10 key={`pm10-${i}`} style={{ animationDuration: `${delay}s` }} />);
      }
      return pm10Elements;
    };

    const generateGasElements = () => {
      const gasElements = [];
      for (let i = 0; i < gas * 7; i++) {
        const delay = generateRandomDelay();
        gasElements.push(<GasParticle key={`gas-${i}`} style={{ animationDuration: `${delay}s` }} />);
      }
      return gasElements;
    };
    return (
      <div className="relative">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height={height} viewBox="0 0 626 914" fill="none">
          <path
            d="M459.473 160.31C459.473 250.168 365.545 319.403 258.47 319.403C151.395 319.403 170.132 292.67 165.778 132.318C161.424 -28.0338 224.743 1.78398 313.586 2.85565C402.428 3.92733 459.473 70.4517 459.473 160.31Z"
            fill="#C1AA9D"
          />
          <path
            d="M197.706 137.971C208.165 146.152 213.098 181.505 195.146 200.568C177.194 219.631 143.155 215.185 132.696 207.004C122.238 198.823 145.152 181.813 163.104 162.75C181.056 143.687 187.248 129.79 197.706 137.971Z"
            fill="#C1AA9D"
          />
          <rect x="244.481" y="272.277" width="142.048" height="143.458" fill="#C1AA9D" />
          <path
            d="M62.0008 474.893C151.785 435.034 172.478 348.821 377.566 424.065C379.441 424.753 380.805 426.528 380.907 428.522L405.432 908.746C405.578 911.604 403.3 914.001 400.438 914.001H11.6263C8.86489 914.001 6.62727 911.795 6.61676 909.034C5.96664 738.154 -27.3758 514.571 62.0008 474.893Z"
            fill="#C1AA9D"
          />
          <path
            d="M570.872 474.893C481.001 435.034 460.289 348.821 255.002 424.066C253.127 424.753 251.762 426.529 251.66 428.523L227.112 908.746C226.966 911.603 229.244 914.001 232.105 914.001H608.319C611.08 914.001 613.318 911.795 613.332 909.034C614.228 738.154 660.334 514.571 570.872 474.893Z"
            fill="#C1AA9D"
          />
          {showLungs && (
            <>
              <path
                d="M323.244 462.517C323.244 403.238 318.342 370.003 318.342 310.723C318.342 232 318.342 232 246.381 232C209.582 232 195.059 228.529 165 232V249.629C195.059 246.158 158.466 249.629 195.264 249.629C292.724 249.629 292.724 249.629 292.724 312.111C292.724 371.396 288.58 404.636 288.58 463.921C296.785 471.564 308.273 488.532 288.58 497.933C264.969 539.511 239.85 549.906 228.17 549.906C209.08 551.339 123.3 567.198 102.326 590.796C81.352 614.394 32.1197 746.714 53.0937 775.185C74.0676 803.655 139.753 884.671 195.264 859.067C250.776 833.463 275.393 761.427 275.393 746.81C275.393 735.116 286.947 637.928 292.724 590.796C292.724 558.084 301.265 548.492 305.535 548.492C309.804 548.492 318.342 556.669 318.342 589.378C324.118 636.505 335.669 733.683 335.669 745.376C335.669 759.991 360.279 832.019 415.776 857.621C471.272 883.222 536.939 802.215 557.908 773.747C578.876 745.28 529.657 612.974 508.689 589.378C487.721 565.783 401.964 549.925 382.879 548.492C371.202 548.492 346.849 538.099 323.244 496.525C303.556 487.125 315.04 470.159 323.244 462.517Z"
                fill="#F1D2C0"
              />
              <path
                d="M76.8979 244.592C140.292 240.208 265.939 238.282 282.53 244.592C298.716 250.749 302.395 254.945 304.234 273.414C305.705 288.189 304.847 447.094 304.234 524.7C275.541 551.191 200.645 605.627 130.605 611.447C43.0554 618.723 107.063 761.715 114.052 763.954C121.041 766.193 134.284 838.948 177.323 820.479C220.362 802.011 233.605 774.308 235.812 749.962C238.02 725.617 251.262 645.586 235.812 628.517C223.452 614.861 249.06 594.413 265 583.5C230.333 570.5 166.4 559.4 188 619C215 693.5 247.677 722.425 212.5 749.962C184.359 771.992 155.108 750.833 144 737.5L152.5 675V628.517L212.5 619L225 675L188 716L114.052 675"
                stroke="none"
                id="left-lane"
              />
              <path
                d="M76.8979 244.592C140.292 240.208 265.939 238.282 282.53 244.592C298.716 250.749 302.395 254.945 304.234 273.414C305.705 288.189 304.847 317.094 304.234 319.7"
                stroke="none"
                id="gas-lane"
              />
              <path
                d="M76.8979 244.592C140.292 240.208 265.939 238.282 282.53 244.592C298.716 250.749 302.395 254.945 304.234 273.414C305.678 287.917 304.878 441.291 304.268 520.332C304.246 523.149 305.394 525.785 307.499 527.658C338.289 555.044 410.313 605.857 477.824 611.47C565.355 618.747 501.362 761.777 494.374 764.016C487.386 766.256 474.147 839.03 431.117 820.557C388.087 802.083 374.847 774.373 372.64 750.021C370.434 725.67 357.194 645.618 372.64 628.544C376.68 624.079 387.62 617.978 399.962 611.406C410.027 606.047 477.993 616.336 484.972 625.353L491.348 633.59C493.255 636.054 493.905 639.267 493.105 642.279L469.56 730.893C469.191 732.281 468.527 733.574 467.614 734.683L439.719 768.555C435.443 773.747 427.365 773.322 423.657 767.711L389.685 716.306C388.281 714.182 387.74 711.604 388.172 709.095L398.737 647.738C399.7 642.148 405.114 638.477 410.663 639.651L456.776 649.412C463.044 650.739 466.465 657.535 463.797 663.36L444.05 706.473C441.432 712.19 434.251 714.1 429.138 710.44L347.5 652"
                stroke="none"
                id="right-lane"
              />
            </>
          )}

          {generatePM25Elements()}
          {generatePM10Elements()}
          {generateGasElements()}
        </svg>
      </div>
    );
  }
};

export default BouncingSVGElements;
